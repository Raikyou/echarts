<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>IIoT Platform</title>
    <script src="js/echarts.min.js"></script>
    <script src="js/jquery.min.js"></script>
    <script src="js/papaparse.min.js"></script>
</head>

<body>
    <div id="main" style="width: 1600px; height: 600px;"></div>
    <script>
        // results = Papa.parse("data/platform.csv", {
        //     download: true,
        //     complete: function (results) {
        //         console.log(results);
        //     }
        // });
        $.get("data/platform.csv", function (csv) {
            var data = Papa.parse(csv).data;
            console.log(data);
        var mychart = echarts.init(document.getElementById("main"));
        // var option = {
        //     visualMap: {
        //         inRange: {
        //             symbolSize: [5, 20],
        //             color: ["#2F4554", "#C23431"]
        //         },
        //         min: 0,
        //         max: 25,
        //         seriesIndex: 2,
        //         left: 80,
        //         top: 80,
        //         itemWidth: 20,
        //         itemHeight: 80,
        //         calculable: !0
        //     },
        //     legend: {
        //         data: ["蒸发量", "降水量", "平均温度"],
        //         top: 35,
        //         left: 5
        //     },
        //     xAxis: [{
        //         type: "category",
        //         data: ["1月", "2月", "3月", "4月", "5月", "6月", "7月", "8月", "9月", "10月", "11月", "12月"]
        //     }],
        //     yAxis: [{
        //         type: "value",
        //         name: "温度",
        //         min: 0,
        //         max: 25,
        //     }],
        //     series: [ {
        //         type: "line",
        //         data: [2, 2.2, 3.3, 5, 6.3, 10.2, 20.3, 23.4, 23, 16.5, 12, 6.2],
        //         symbol: "circle",
        //     }]
        // };
        var option = {
            title: {
                text: "IIoT Platform",
                left: "center"
            },
            legend: {
                top: 30
            },
            tooltip: {
                trigger: "axis"
            },
            toolbox: {
                show: true,
                orient: 'vertical',
                top: 100,
                right: 50,
                feature: {
                    // dataZoom:{},
                    dataView: { readOnly: false },
                    magicType: { type: ['line', 'bar'] },
                    restore: {},
                    saveAsImage: {}

                }
            },
            visualMap: {
                type: "continuous",
                inRange: {
                    symbolSize: [10, 20],
                    color: ["#2F4554", "#C23431"]
                },
                min: 0,
                max: 3000,
                seriesIndex: 0,
                // left: 80,
                // top: 80,
                // itemWidth: 40,
                // itemHeight: 120,
                // calculable: !0
            },
            dataset: {
                source:
                    data
                // ['平台指标', '2019 Aug', '2019 Dec'],
                // ['工业设备', 65, 69],
                // ['机理模型', 830, 1100],
                // ['工业APP', 1950, 2124],
                // ['活跃开发者', 3800, 3800],
                // ['注册用户', 50, 50],
                // ['工业协议', 125, 125]
            },
            xAxis: { type: 'category' },

            yAxis: [
                // {},
                {}
            ],

            series: [
                // { type: 'bar', seriesLayoutBy: 'row' },
                // { type: 'bar', seriesLayoutBy: 'row' },
                { type: 'bar', seriesLayoutBy: 'row' },
                { type: 'bar', seriesLayoutBy: 'row' },
                { type: 'bar', seriesLayoutBy: 'row' },
                { type: 'bar', seriesLayoutBy: 'row' },
                { type: 'bar', seriesLayoutBy: 'row' },
                { type: 'bar', seriesLayoutBy: 'row' },
                { type: 'bar', seriesLayoutBy: 'row' },
                { type: 'bar', seriesLayoutBy: 'row' },
                { type: 'bar', seriesLayoutBy: 'row' },
                { type: 'bar', seriesLayoutBy: 'row' },
                { type: 'bar', seriesLayoutBy: 'row' },
                { 
                    type: 'line',
                    symbol: "circle",
                    seriesLayoutBy: 'row'
                }
            ]
        };
        mychart.setOption(option);
        })
    </script>
</body>

</html>